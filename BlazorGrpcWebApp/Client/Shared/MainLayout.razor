@inherits LayoutComponentBase
@using Blazored.Toast.Configuration

<MudThemeProvider Theme="Theme" />
<MudDialogProvider MaxWidth="MaxWidth.Large" CloseButton="true"/>
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Dense="true" Elevation="3">
        <MudIconButton Icon="@Icons.Material.Filled.Dehaze" Color="Color.Primary" Edge="Edge.Start" OnClick="ToggleDrawer"/>
        <MudSpacer />
        <TopMenu/>
    </MudAppBar> 
    <MudDrawer @bind-Open="DrawerOpen" Variant="DrawerVariant.Mini" Elevation="1">
        <MudDrawerHeader >
            @*TODO*@
            <MudIcon Icon="@Icons.Custom.Brands.MudBlazor" 
                     Color="Color.Error" 
                     Size="Size.Large">
            </MudIcon>
            <MudText Color="Color.Error">MudBlazor</MudText>
        </MudDrawerHeader>
        <NavMenu DrawerOpen="DrawerOpen">
        @if (DrawerOpen)
        {
            <MudElement Style="margin-top:10px; margin-left:15px" HtmlTag="img" class="img-fluid"/>
        }
        else
        {
            <MudElement Style="margin-top:10px; margin-left:15px" HtmlTag="img" class="img-fluid"/>
        }
        </NavMenu>
    </MudDrawer>

    <MudMainContent Class="pt-16">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

<BlazoredToasts Position="ToastPosition.BottomRight"/>

@code 
{
    bool DrawerOpen { get; set; } = true;

    void ToggleDrawer()
    {
        DrawerOpen = !DrawerOpen;
    }

    MudTheme Theme = new MudTheme()
    {
        Palette = new Palette()
        {
            // Box Lines + Font
            Primary = "#ffff",
            Secondary = "#7e6fffff",
            Tertiary = "#444f",

            // Main Background
            Background = "#1a1a27ff",

            // Paper Background
            Surface = "#1e1e2dff",

            // Drawer Background
            DrawerBackground = "#1a1a27ff",

            // Appbar Background
            AppbarBackground = "#1a1a27ff",

            Success = "#32CD32ff",
            TextPrimary = "#eeef",
            TextSecondary = "#eeef",
            DrawerText = "#eeee",
            DrawerIcon = "rgba(255,255,255, 1)",
            TableHover = "#aaaf",
            ActionDefault = "fff7",
            ActionDisabled = "#fff7",
            Warning = "#bb8800ff",
            Error = "#7e6fffff",
        },
        LayoutProperties = new LayoutProperties()
        {
            DrawerWidthLeft = "14vw",
            DrawerMiniWidthLeft = "65px",
        },

        Typography = new Typography()
        {
            Default = new Default()
            {
                FontFamily = new[] { "Roboto-Regular", "Helvetica", "Arial", "sans-serif" }
            }
            //Body1 = new()
            //{
            //    FontFamily = new string[] { "FujitsuInfinityPro-Regular" },
            //    FontSize = "18px",
            //    FontWeight = 1,
            //    LetterSpacing = String.Empty,
            //    LineHeight = 0
            //},
            //Body2 = new()
            //{
            //    FontFamily = new string[] { "FujitsuInfinityPro-Regular" },
            //    FontSize = "14px",
            //    FontWeight = 1,
            //    LetterSpacing = String.Empty,
            //    LineHeight = 0
            //},
            //H6 = new()
            //{
            //    FontFamily = new string[] { "FujitsuInfinityPro-Regular" },
            //    FontSize = "20px",
            //    FontWeight = 1,
            //    LetterSpacing = String.Empty,
            //    LineHeight = 0
            //}
        }
    };
}